@import "_varient";

@mixin cardDesign() {
  background-color: $card-bg-color;
  border: $card-border;
  border-radius: $card-radius;
  box-shadow: $card-shadow;
  backdrop-filter: blur(10px);
}

//네비게이션
.nav {
  //임시
  display: none;
  border-bottom: 1px solid black;
  padding: 1rem;
  & ul {
    display: flex;
    & li {
      padding: 0.5rem;
      background-color: lightblue;
      margin: 0 10px;
    }
  }
}
//전체
body {
  overflow: hidden !important;
  & #root {
    overflow: hidden !important;
    height: 100vh;
    //background-image: url("https://images.unsplash.com/photo-1623181392587-1d107a876150?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=688&q=80");
    //background-image: url("https://images.unsplash.com/photo-1620625852956-6af595d8294a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=735&q=80");
    //background-image: url("https://firebasestorage.googleapis.com/v0/b/gratia-2cdd0.appspot.com/o/gratine%2Fbackground.avif?alt=media&token=9984bbfd-f7ba-406e-aabc-61b2d38c32ed");
    //background-image: url("https://images.unsplash.com/photo-1457735720963-e277a46f2c68?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80");
    //background-color: $purple-100;
    // background-repeat: no-repeat;
    // background-size: cover;
    background: linear-gradient(
      34deg,
      #e4ddd6 20%,
      #eceae2 45%,
      #fffcf5 50%,
      #e4ddd6 60%
    );
    background: linear-gradient(
        34deg,
        #e4ddd6 10%,
        #eceae2 35%,
        transparent 50%,
        #e4ddd6 70%
      ),
      url(https://grainy-gradients.vercel.app/noise.svg);
    // background:
    // linear-gradient(40deg, #3B572E, #e4ddd6),
    // url(https://grainy-gradients.vercel.app/noise.svg);
    position: relative;
    //배경 글씨
    &::before {
      content: "Gratines Garden";
      font-family: "Pinyon Script", cursive;
      color: $brown-500;
      background: -webkit-linear-gradient(white, $brown-500);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      white-space: nowrap;
      font-size: 30rem;
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateY(-50%) translateX(-50%) rotate(-10deg);
      mix-blend-mode: multiply;
    }
    &::after {
      content: "created by @topports";
      position: absolute;
      bottom: 0.5rem;
      right: 0.5rem;
      color: $yellow-800;
      background-color: $brown-100;
      padding: 0 5px;
      border-radius: 100px;
    }
    & .app-container {
      height: 100%;
      display: flex;
      justify-content: center;
      flex-direction: row;
      margin: 0;
      gap: $layout-gap;
      padding: $layout-gap;
      position: relative;
      //배경 글씨
      &::before {
        content: "long story telling";
        font-family: "Pinyon Script", cursive;
        color: $brown-400;
        background: -webkit-linear-gradient(white, $brown-500);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        white-space: nowrap;
        font-size: 16rem;
        position: absolute;
        top: 80%;
        left: 50%;
        transform: translateY(-50%) translateX(-50%) rotate(-10deg);
        mix-blend-mode: multiply;
        z-index: -1;
      }
      //프로필 영역
      & .profile-area {
        width: 280px;
      }
      //채팅 영역
      & .chatting-area {
        width: 600px;
        overflow: hidden !important;
        & .chatting-list-container {
          overflow-y: auto;
        }
      }
      //사이드 영역
      & .side-area {
        width: 348px;
      }
      //배경
      & .home-bg {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
      }
    }
  }
}

//프로필 영역
.profile-area {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  padding: 2rem 1rem;
  @include cardDesign();

  //로고
  @at-root .logo {
    width: 180px;
    height: 30px;
    background-image: url("https://firebasestorage.googleapis.com/v0/b/gratia-2cdd0.appspot.com/o/gratine%2Flogo.png?alt=media&token=e45f8be9-4a1f-444a-8fbd-f2f1f2bb48b3");
    background-repeat: no-repeat;
    background-size: cover;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0;
  }
  //내 프로필 영역
  & .profile-wrap {
    width: 100%;

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    @at-root .profile-box__my {
      width: 120px;
      height: 120px;
      background-color: $brown-100;
      border: 1px solid white;
      box-shadow: $nameplate-shadow;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      & img {
        width: 100%;
        height: 100%;
      }
      & button {
        display: none;
      }
      &.profile-edit {
        &:hover {
          &::after {
            content: "";
            width: 100%;
            height: 100%;
            display: block;
            background-color: rgba(0, 0, 0, 0.3);
            position: absolute;
          }
          & button {
            position: absolute;
            top: 4px;
            right: 4px;
            border-radius: 100rem;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgb(32, 31, 31);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            z-index: 10;
            & span {
              color: white;
            }
          }
        }
      }
    }
    //이름
    & .nameplate {
      // background-color: $yellow-300;
      background: linear-gradient(
        -45deg,
        rgb(225, 194, 164) 0%,
        rgb(241, 238, 164) 60%,
        rgb(225, 194, 164) 100%
      );
      border: 1px solid white;
      border-radius: 100px;
      box-shadow: $nameplate-shadow;
      width: 100%;
      margin: 1rem 0;
      padding: 0.5rem 0.8rem;
      font-size: 1.3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0px;
      & img {
        width: 38px;
        height: 32px;
        &:last-child {
          transform: rotateY(180deg);
        }
      }
      & .name-wrap {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 1px;
        flex: 1;
        & h4 {
          font-size: 1.2rem;
          color: $brown;
        }
        & p {
          color: $yellow-700;
          font-size: 0.7rem;
          white-space: nowrap;
          text-transform: capitalize;
        }
      }
    }
    & .profile-info {
      display: flex;
      flex-direction: column;
      gap: 10px;
      & .profile-item {
        display: flex;
        flex-direction: column;
        gap: 5px;
        margin-bottom: 5px;
        & p {
          white-space: nowrap;
          color: white;
          background-color: $brown-600;
          border-radius: 100px;
          padding: 0.1rem 0.4rem;
        }
        & b {
          color: $brown-800;
        }
        & span {
          color: $brown-700;
        }
      }
    }
    //프로필 수정
    & .profile-detail-wrap {
      display: flex;
      flex-direction: column;
      align-items: center;
      & .label {
        white-space: nowrap;
        width: 100%;
        text-align: left;
        padding-top: 20px;
        padding-bottom: 3px;
        font-weight: bold;
      }
      & .gtn-btn {
        width: 100% !important;
      }
    }
  }
}

//채팅 영역
.chatting-area {
  display: flex;
  flex-direction: column;
  @include cardDesign();
  & .logo-box {
    display: none;
    align-items: center;
    justify-content: center;
  }
  //채팅 보이는 영역
  & .chatting-list-container {
    flex: 1;
    background-color: lightgray;
    display: flex;
    flex-direction: column-reverse;
    // 개별 채팅박스
    & .chatting-list {
      //background-color: rgb(247, 245, 245);
      background-color: #f8f7f5;
      border-bottom: 1px solid $brown-300;
      padding: 0.3rem;
      display: flex;
      gap: 0.3rem;
      //내채팅
      &.myChat {
        background-color: $purple-200;
        border-bottom: 1px solid $purple-300;
      }
      //전체채팅
      &.wholeChat {
        background-color: $yellow-200 !important;
        padding: 0.3rem 0.8rem;
        & *{
          color: $brown-700 !important;
        }
      }
      //오더채팅
      &.orderChat {
        background-color: $purple-300 !important;
        border-top: 1px solid $purple-400;
        border-bottom: 2px solid $purple-400;
        padding: 0.3rem 0.8rem;
      }
      //전체채팅
      &.wholeChat,
      &.orderChat {
        text-align: center;
        font-style: italic;
        position: relative;
        & .profile-box,
        b {
          display: none !important;
        }
        & p {
          font-weight: 700 !important;
          & span {
            margin: 0 5px;
            color: $purple;
            &:last-child {
              background-color: $purple-100;
              margin: 0 5px;
              padding: 2px 8px 2px 5px;
              border-radius: 100px;
              color: $purple !important;
            }
          }
        }
        & img {
          margin: 0 auto;
        }
        & button {
          width: 20px;
          height: 20px;
          border-radius: 100px;
          background-color: $brown-800;
          opacity: 0.85;
          position: absolute;
          top: 5px;
          right: 10px;
          display: flex;
          align-items: center;
          justify-content: center;
          & span {
            font-size: 14px;
            color: white;
          }
        }
      }
      & .profile-box {
        background-color: $brown-500;
        width: 28px;
        height: 28px;
        border-radius: 200px;
        overflow: hidden;
        display: flex;
        align-items: center;
        justify-content: center;
        & img {
          width: calc(100% + 2px);
          height: calc(100% + 2px);
        }
      }
      & .txt-box {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 2px;
        & b {
          font-size: 11px;
          font-weight: 500;
          color: $brown-700;
        }
        & p {
          font-size: 14px;
          line-height: 150%;
          font-weight: 400;
          color: $brown-900;
        }
        & img {
          height: 300px;
          width: 300px;
          border: 1px solid gray;
        }
      }
    }
  }

  //채팅 치는 영역
  & .chatting-form-box {
    min-height: 40px;
    background-color: $brown-800;
    padding: 0.5rem;
    //이미지 썸네일
    & .img-thumb-area {
      margin-bottom: 0.5rem;
      & img {
        width: 50px;
        height: 50px;
      }
      & button {
        margin-left: 10px;
        padding: 0.2rem 0.5rem;
      }
    }
    // 폼 작성
    & form {
      display: flex;
      align-items: center;
      gap: 5px;
      position: relative;
      & input[type="submit"] {
        width: 60px !important;
        background: $yellow-300 !important;
        color: $yellow-900 !important;
        font-weight: $form-font-weight !important;
      }
      //툴팁
      & .tooltip {
        position: absolute;
        bottom: calc(100% + 1rem);
        left: 0;
        right: 0.3rem;
        background-color: $brown-800;
        padding: 0.5rem;
        border-radius: $form-radius;
        box-shadow: $form-shadow;

        display: flex;
        & .function-list-container {
          flex: 1;
          border-right: 1px solid $brown-700;
          padding-right: 1rem;
          margin-right: 1rem;
          &:last-child {
            border: none;
            margin: 0;
          }
          & .title {
            color: $brown-500;
            display: flex;
            align-items: center;
            gap: 5px;
            padding-left: 6px;
            margin: 5px 0;
            & span {
              color: $brown-500;
              font-size: 0.8rem;
            }
          }
          & .function-list {
            padding: 0.5rem;
            display: flex;
            flex-direction: column;
            gap: 5px;
            & b {
              font-weight: 300;
              font-size: 1rem;
              color: white;
            }
            & p {
              font-weight: 200;
              color: $brown-400;
            }
          }
        }
      }
    }
  }
}

//사이드 영역
.side-area {
  display: flex;
  flex-direction: column;
  gap: $layout-gap;
  //공통
  & > div {
    overflow: hidden;
    @include cardDesign();
    & .title {
      padding: 0.6rem;
      font-size: 1rem;
      font-weight: 700;
      color: $brown-800;
    }
    &.memeber-area {
      flex: 1;
      overflow-y: auto;
    }
    &.attend-area {
      flex: 2;
    }
    &.vending-area {
      flex: 3;
      overflow-y: auto;
    }
  }
  //접속중 인원
  & .member-area {
    & .member-list-container {
      display: flex;
      flex-wrap: wrap;
    }
    & .member-list {
      width: 56px;
      padding: 0.5rem;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
      & .profile-box {
        background-color: white;
        width: 40px;
        height: 40px;
        border-radius: 6px;
      }
      & p {
        text-align: center;
        font-size: 0.7rem;
        font-weight: 400;
        line-height: 1;
        color: $brown-700;

        width: 100%;
        overflow: hidden;
        white-space: normal;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        word-break: keep-all;
      }
    }
  }
  //상점
  & .vending-area {
    & .vending-list-container {
      display: flex;
      flex-wrap: wrap;
      padding: 0 0.5rem;
      gap: 0.5rem;
      & .vending-item {
        background-color: white;
        border-radius: 8px;
        box-shadow: $card-shadow;
        border: 1px solid $brown-200;
        width: 100px;
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow: hidden;
        position: relative;
        transition: all 0.2s;
        &::after,
        &.soldOut::after {
          content: "Buy";
          background: radial-gradient(
            circle,
            rgba(255, 255, 255, 0.9) 0%,
            rgba(255, 220, 106, 0.4) 100%
          );
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          color: $brown;
          font-size: 1rem;
          font-weight: 800;
          opacity: 0;
        }
        &:hover::after {
          opacity: 1;
          cursor: pointer;
        }
        &.soldOut::after {
          background: radial-gradient(
            circle,
            rgba(255, 255, 255, 0.8) 0%,
            rgba(237, 234, 230, 1) 100%
          );
          color: $brown-500;
          font-weight: 400;
          font-size: 0.9rem;
          cursor: not-allowed !important;
          content: "SoldOut";
          opacity: 1;
        }

        & .img-box {
          width: 100%;
          height: 100px;
          border-bottom: 1px solid $brown-300;
          display: flex;
          align-items: center;
          justify-content: center;
          & img {
            width: 48px;
            height: 48px;
          }
        }
        & .txt-box {
          width: 100%;
          padding: 0.5rem;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-direction: column;
          gap: 5px;
          & p {
            text-align: center;
            font-size: 0.7rem;
            font-weight: 400;
            line-height: 1;
            color: $brown-700;

            width: 100%;
            overflow: hidden;
            white-space: normal;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            word-break: keep-all;
          }
          & span {
            background-color: $brown;
            color: white;
            border-radius: 100px;
            text-align: center;
            width: 50px;
            display: block;
          }
        }
      }
    }
  }
  //화분키우기(출석보상)
  & .attend-area {
    display: flex;
    flex-direction: column;
    background-color: rgba(255, 255, 255, 0.4);
    & .content-wrap {
      display: flex;
      flex: 1;
      flex-direction: column;
      gap: 1rem;
      justify-content: center;
      align-items: center;
    }
    & .attend-gauge-wrap {
      width: 100px;
      margin: 0 auto;
      position: relative;
      & text {
        position: absolute !important;
        z-index: 10;
        font-size: 20px;
        fill: $mint;
        font-weight: 800;
      }
      & img {
        z-index: 1;
        width: 50%;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        // filter: invert(96%) sepia(12%) saturate(137%) hue-rotate(115deg)
        //   brightness(105%) contrast(91%);

        filter: invert(1) brightness(1000%);
        mix-blend-mode: multiply;
      }
    }
    & .attend-info {
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      font-weight: 700;
      & b {
        color: $mint;
        font-size: 1.4rem;
        margin-right: 5px;
        font-weight: 700;
      }
    }
  }
}

*::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}
*::-webkit-scrollbar-thumb {
  background-color: $yellow-200;
  border-radius: $form-radius;
  background-clip: padding-box;
  border: 1px solid transparent; //pdding 대신 여백사용할때
}
*::-webkit-scrollbar-track {
  background-color: $yellow-700;
  border-radius: 10px;
}

//미디어쿼리
@media (max-width: $breakpoint-labtop) {
  .side-area {
    display: none;
  }
  .profile-area {
    width: 200px !important;
    & .nameplate {
      padding: 0.3rem 0.4rem !important;
      & img {
        width: 20px !important;
        height: 20px !important;
      }
      & h4 {
        font-size: 0.9rem !important;
      }
      & p {
        font-size: 0.5rem !important;
      }
    }
  }
}
@media (max-width: $breakpoint-mobile) {
  #root::after {
    display: none !important;
  }
  .app-container {
    padding: 0 !important;
  }
  .profile-area {
    display: none !important;
  }
  .chatting-area {
    box-shadow: none !important;
    & .chatting-list-container {
      border-radius: $card-radius $card-radius 0 0;
      box-shadow: $card-shadow;
    }
    & .logo-box {
      display: flex !important;
      & .logo {
        transform: scale(0.7);
        margin-bottom: 0.5rem;
      }
    }
  }
}
